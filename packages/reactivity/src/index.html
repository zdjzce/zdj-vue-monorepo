<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function traverse (source, seen = new Set()) {
      debugger
      if (typeof source != 'object' || source === null || seen.has(source)) return

      // 将数据添加到 seen 中 代表遍历过了，避免循环引用
      seen.add(source)

      // 递归处理对象
      for (const k in source) {
        traverse(source[k], seen)
      }

      return source
    }
    const obj = {
      foo: 1
    }

    const a = traverse(obj)
    console.log(a)
  </script>
</body>

</html>